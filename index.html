<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trekantkalkulator</title>

<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#4facfe,#00f2fe);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.calculator {
  background:white;
  padding:20px;
  border-radius:15px;
  width:90%;
  max-width:400px;
  box-shadow:0 10px 20px rgba(0,0,0,0.2);
  text-align:center;
}

h2 {
  margin-bottom: 5px;
}

#info {
  font-size: 14px;
  margin-bottom: 10px;
  color: #333;
}

/* Input-felt */
.inputs input {
  width: 80%;
  padding:10px;
  margin:6px auto;
  border-radius:8px;
  border:1px solid #ccc;
  display:block;
  text-align:center;
  font-size:16px;
}

/* Knapper */
button {
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:10px;
  background:#4caf50;
  color:white;
  font-size:16px;
  cursor:pointer;
}

button.clear {
  background:#f44336;
}

button.dark {
  background:#444;
  margin-bottom:10px;
}

#result {
  margin-top:10px;
  font-weight:bold;
}

/* Trekantskisse */
svg {
  width:100%;
  height:200px;
  margin-top:10px;
}

/* DARK MODE */
body.dark {
  background: linear-gradient(135deg,#111,#333);
}

body.dark .calculator {
  background:#222;
  color:white;
}

body.dark input {
  background:#333;
  color:white;
  border:1px solid #555;
}

body.dark #info {
  color:#ccc;
}

body.dark #result {
  color:#0f0;
}

body.dark button {
  background:#555;
}

body.dark button.clear {
  background:#f44336;
}

body.dark button.dark {
  background:#888;
}
</style>
</head>

<body>

<div class="calculator">

<button class="dark" onclick="toggleDarkMode()">ðŸŒ™ Dark mode</button>

<h2>Trekantkalkulator</h2>

<p id="info">
  Fyll inn minst <b>3 verdier</b> (sider og/eller vinkler), sÃ¥ beregnes resten automatisk.
</p>

<div class="inputs">
  <input id="a" placeholder="Side a">
  <input id="b" placeholder="Side b">
  <input id="c" placeholder="Side c">

  <input id="A" placeholder="Vinkel A (Â°)">
  <input id="B" placeholder="Vinkel B (Â°)">
  <input id="C" placeholder="Vinkel C (Â°)">
</div>

<button onclick="solveTriangle()">Kalkuler</button>
<button class="clear" onclick="clearAll()">Slett alt</button>

<div id="result"></div>

<svg viewBox="0 0 200 160">
  <polygon points="40,140 160,140 100,30" fill="none" stroke="black" stroke-width="2"/>
  <text x="30" y="150">A</text>
  <text x="165" y="150">B</text>
  <text x="95" y="20">C</text>
</svg>

</div>

<script>
function toggleDarkMode() {
  document.body.classList.toggle("dark");
}

function solveTriangle() {
  let a = parseFloat(document.getElementById("a").value);
  let b = parseFloat(document.getElementById("b").value);
  let c = parseFloat(document.getElementById("c").value);
  let A = parseFloat(document.getElementById("A").value);
  let B = parseFloat(document.getElementById("B").value);
  let C = parseFloat(document.getElementById("C").value);

  let count = [a,b,c,A,B,C].filter(x => !isNaN(x)).length;

  if (count < 3) {
    result.innerText = "Du mÃ¥ fylle inn minst 3 verdier.";
    return;
  }

  // SSS (3 sider)
  if (!isNaN(a) && !isNaN(b) && !isNaN(c)) {
    A = cosRule(a,b,c);
    B = cosRule(b,c,a);
    C = 180 - A - B;
  }

  // ASA / AAS (2 vinkler + 1 side)
  if (!isNaN(A) && !isNaN(B) && !isNaN(a)) {
    C = 180 - A - B;
    b = a * Math.sin(B*Math.PI/180) / Math.sin(A*Math.PI/180);
    c = a * Math.sin(C*Math.PI/180) / Math.sin(A*Math.PI/180);
  }

  document.getElementById("a").value = round(a);
  document.getElementById("b").value = round(b);
  document.getElementById("c").value = round(c);
  document.getElementById("A").value = round(A);
  document.getElementById("B").value = round(B);
  document.getElementById("C").value = round(C);

  result.innerText = "Alle verdier er nÃ¥ beregnet.";
}

function cosRule(x,y,z) {
  return Math.acos((x*x + y*y - z*z) / (2*x*y)) * 180/Math.PI;
}

function round(x) {
  return x ? x.toFixed(2) : "";
}

function clearAll() {
  ["a","b","c","A","B","C"].forEach(id => document.getElementById(id).value="");
  result.innerText="";
}
</script>

</body>
</html>
